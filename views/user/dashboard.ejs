<!doctype html>
<%- include('.././partials/header') %>
  <body>
   <header>
<nav class="navbar navbar-expand-lg navbar-light bg-light position-fixed z-3 shadow" style="width: 100%">
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
    <a class="navbar-brand ms-4 fw-bold" href="/users/dashboard"><span style="font-family: lora,serif;"><i class="fa-solid fa-truck-fast fa-flip-horizontal"></i> SHOPSITE</span></a>
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
      <li class="nav-item active">
        <a class="nav-link" href="#"><i class="fa-brands fa-instagram"></i></span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="#"><i class="fa-brands fa-facebook-f"></i></span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="#"><i class="fa-brands fa-twitter"></i></span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="#"><i class="fa-brands fa-snapchat"></i></span></a>
      </li>
      
    </ul>
    <ul class="navbar-nav ms-auto mt-2 mt-lg-0 me-4" style="font-family: Lora,sans-serif;">
      <li class="nav-item active">
        <a class="nav-link" href="/users/orders/cart">Cart 
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
          </svg><sup style="color: red;"><b><%= cartNumber %></b></sup><span class="sr-only"></span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/users/orders/myOrders">My Orders 
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backpack" viewBox="0 0 16 16">
            <path d="M4.04 7.43a4 4 0 0 1 7.92 0 .5.5 0 1 1-.99.14 3 3 0 0 0-5.94 0 .5.5 0 1 1-.99-.14M4 9.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm1 .5v3h6v-3h-1v.5a.5.5 0 0 1-1 0V10z"/>
            <path d="M6 2.341V2a2 2 0 1 1 4 0v.341c2.33.824 4 3.047 4 5.659v5.5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5V8a6.002 6.002 0 0 1 4-5.659M7 2v.083a6.04 6.04 0 0 1 2 0V2a1 1 0 0 0-2 0m1 1a5 5 0 0 0-5 5v5.5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5V8a5 5 0 0 0-5-5"/>
          </svg><sup style="color: red;"><b><%= ordersNumber %></b></b></sup><span class="sr-only"></span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/users/orders/wishlist">Wishlist 
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-through-heart-fill" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M2.854 15.854A.5.5 0 0 1 2 15.5V14H.5a.5.5 0 0 1-.354-.854l1.5-1.5A.5.5 0 0 1 2 11.5h1.793l3.103-3.104a.5.5 0 1 1 .708.708L4.5 12.207V14a.5.5 0 0 1-.146.354zM16 3.5a.5.5 0 0 1-.854.354L14 2.707l-1.006 1.006c.236.248.44.531.6.845.562 1.096.585 2.517-.213 4.092-.793 1.563-2.395 3.288-5.105 5.08L8 13.912l-.276-.182A23.825 23.825 0 0 1 5.8 12.323L8.31 9.81a1.5 1.5 0 0 0-2.122-2.122L3.657 10.22a8.827 8.827 0 0 1-1.039-1.57c-.798-1.576-.775-2.997-.213-4.093C3.426 2.565 6.18 1.809 8 3.233c1.25-.98 2.944-.928 4.212-.152L13.292 2 12.147.854A.5.5 0 0 1 12.5 0h3a.5.5 0 0 1 .5.5z"/>
          </svg><sup style="color: red;"><b><%= wishNumber %></b></b></sup><span></span></a>
      </li>
      <!-- <li class="nav-item active">
        <a class="nav-link" href="/users/profile">Profile<span class="sr-only"></span></a>
      </li> -->
        <li class="nav-item active">
          <a class="nav-link" href="/users/profile">My Profile
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-person" viewBox="0 0 16 16">
              <path d="M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              <path d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
            </svg><span class="sr-only"></span></a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/users/profile">Help
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
              <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
            </svg>
            </svg><span class="sr-only"></span></a>
        </li>

      <li class="nav-item active">
        <a class="nav-link" href="/logout" style="color: red;">Logout
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0z"/>
            <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
          </svg><span class="sr-only"></span></a>
      </li>
      <li class="nav-item active">
      </li>
   
      
    </ul>
   
 
  </div>
</nav>
</header>
<main>
  <div style="width:100%; height: 550px; object-fit: cover;" >
    <div class="d-flex flex-column align-items-center" style="font-family: Lora, serif;color: #444;">
      <span class='position-absolute fs-5' style="margin-top: 60px;">Shopping Karo Dil Se</span>
      <span class='position-absolute fs-1' style="margin-top: 75px;">ShopSite</span>
    </div>
    <%- include('../partials/imageslider.ejs')%>
  </div>
  <marquee class=" " style="height: 20px;background-color: #444;"><span style="color: aliceblue;"><pre>Special Offer on <b>5000/-</b> shopping      ||     Buy <span style="color: greenyellow;">2</span> Get <span style="color: greenyellow;">1</span> Free üòç        ||         Special gift for make your day more special‚ù§Ô∏è</pre></span></marquee>

  <div class="d-flex flex-column pt-4 align-items-center">
    <div class="w-75">
      <ul class="list-unstyled d-flex justify-content-between">
        <li><a class="nav-link text-decoration-none" href="/users/dashboard"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://assets.awwwards.com/awards/images/2020/09/ecommerce-cover.jpg" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-2" style="font-family: Lora,sans-serif;">All products</div></a></li>
        <li><a class="nav-link text-decoration-none" href="/users/category/fashion"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none; "><img src="https://thumbs.dreamstime.com/b/fashion-pretty-cool-youngwith-shopping-bags-wearing-black-hat-white-pants-over-colorful-orange-background-79063329.jpg" width="100%" height="100%" style="border-radius: 50px;"></div>
          <div class="ms-4" style="font-family: Lora,sans-serif;"> Fashion</div></a>
        </li>
        <li><a class="nav-link text-decoration-none" href="/users/category/electronics"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://img.freepik.com/premium-photo/futuristic-gadgets-showcase-lineup-sleek-modern-technological-devices_977107-682.jpg" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-2" style="font-family: Lora,sans-serif;"> Electronincs</div></a></li>
        <li><a class="nav-link text-decoration-none" href="/users/category/medicine"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://img.freepik.com/free-vector/medical-design-poster-with-original-medicinal-capsule-consisting-red-white-parts-different-medical-objects_1284-53615.jpg" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-3" style="font-family: Lora,sans-serif;"> Medicine </div></a></li>
        <li><a class="nav-link text-decoration-none" href="/users/category/furniture"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://media.istockphoto.com/id/1415799772/photo/home-interior-with-vintage-furniture.webp?b=1&s=170667a&w=0&k=20&c=7n4U6vnFtYrX-FE84s2GXIzqkBIkvPTAE2uG8mB8MLA=" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-3"style="font-family: Lora,sans-serif;"> Furniture </div></a></li>
        <li><a class="nav-link text-decoration-none" href="/users/category/sports"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://t4.ftcdn.net/jpg/00/17/33/59/360_F_17335975_wezHs72ORL3CY2dFLVi9XtLx4XDOgZBT.jpg" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-4" style="font-family: Lora,sans-serif;"> Sports</div></a></li>
        <li><a class="nav-link text-decoration-none" href="/users/category/books"><div style="border: 1px solid black;width: 100px;height: 100px;border-radius: 50px;border: none;"><img src="https://img.freepik.com/premium-psd/hardbook-cover-mockup_793224-597.jpg" width="100%" height="100%" style="border-radius: 50px;"></div><div class=" ms-4" style="font-family: Lora,sans-serif;"> Books</div></a></li>
      </ul>
    </div>
    </div>

    <div class="d-flex justify-content-around">
      <aside class="bg-body-tertiary shadow mb-5 bg-body rounded" style="width: 200px;height: 50rem;">
        <p class="mt-3" style="text-align: center;">BRANDS <br>YOU MAY LIKE</p><hr>
        <%-include('../partials/filterproduct.ejs')  %>
      </aside>

  <div class=" py-5  container bg-body-tertiary shadow p-3 mb-5 bg-body rounded ms-3">
    <!-- <div class="container "> -->

      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3 container" id="productlist">
        <% products.forEach(item=>{ %>

            <div class="col">
                <div class="shadow-sm">
                    <a href="/users/productdetails/<%=item._id%>"><img src="/<%=item.productimage%>" width="100%" height="250" style="background-size: cover;border-radius: 5px;"></a>
                    <div class="card-body">
                      <span class="d-flex justify-content-between">
                        <h6 class="card-text ms-3 mt-2"><%= item.name %></h6>
                        <h6 class="card-text me-4 mt-2">Rs.<%= item.price %></h6>
                        </span>
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group mb-4 ms-3 mt-2">
                              <a href="/users/productdetails/<%=item._id %>"> <button type="button" class="btn btn-sm btn-outline-secondary me-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                                  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                                </svg>
                                View
                              </button></a>
                                <a href="/users/orders/cart/<%= item.name %>"><button type="button" class="btn btn-sm btn-outline-secondary">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                                  </svg>
                                  Add to cart
                                </button></a>                               
                            </div>
                            <small class="text-body-secondary"></small>
                        </div>
                    </div>
                </div>
            </div>
            <% }) %>
          
    
      </div>
    <!-- </div> -->
  </div>
  </div>

</main>

<%-include('.././partials/footer')  %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
  function openPopup() {
    document.getElementById('aboutPopup').style.display = 'block';
  }

  function closePopup() {
    document.getElementById('aboutPopup').style.display = 'none';
  }

  document.getElementById('aboutBtn').addEventListener('click', openPopup);
</script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
  function filter(type,value) {
      var filters = {};

      if (type === 'brand' || type === 'price') {
        filters[type] = value;
      }

      $.ajax({
        type: 'POST',
        url: '/users/filterProducts',
        data: filters,
        success: function(response) {
          displayFilter(response);
        },
        error: function(error) {
          console.error('Error filtering products:', error);
        }
      });
    }
    function displayFilter(products){
      const productlist=document.getElementById('productlist');
      productlist.innerHTML='';
      // productlist.innerHTML=`
      
         products.forEach(item=>{ 
          productlist.innerHTML+=`
            <div class="col">
                <div class="shadow-sm">
                    <a href="/users/productdetails/${item._id}"><img src="/${item.productimage}" width="100%" height="250" style="background-size: cover;border-radius: 5px;"></a>
                    <div class="card-body">
                      <span class="d-flex justify-content-between">
                        <h6 class="card-text ms-3 mt-2">${ item.name }</h6>
                        <h6 class="card-text me-4 mt-2">Rs.${ item.price }</h6>
                        </span>
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group mb-4 ms-3 mt-2">
                              <a href="/users/productdetails/${item._id }"> <button type="button" class="btn btn-sm btn-outline-secondary me-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                                  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                                </svg>
                                View
                              </button></a>
                                <a href="/users/orders/cart/${ item.name }"><button type="button" class="btn btn-sm btn-outline-secondary">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                                  </svg>
                                  Add to cart
                                </button></a>                               
                            </div>
                            <small class="text-body-secondary"></small>
                        </div>
                    </div>
                </div>
            </div>
            `;
         });
  
    }
</script>

    </body>
</html>